{
    "$Version": "4.0",
    "$Reference": {
        "https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Core.V1.json": {
            "$Include": [
                {
                    "$Namespace": "Org.OData.Core.V1",
                    "$Alias": "Core"
                }
            ]
        }
    },
    "Org.OData.Temporal.V1": {
        "$Alias": "Temporal",
        "@Core.Description": "Terms for describing time-dependent data",
        "@Core.LongDescription": "*This is a working draft that may incompatibly change any time.*",
        "@Core.Links": [
            {
                "rel": "alternate",
                "href": "https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Temporal.V1.xml"
            },
            {
                "rel": "latest-version",
                "href": "https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Temporal.V1.json"
            },
            {
                "rel": "describedby",
                "href": "https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Temporal.V1.md"
            }
        ],
        "ApplicationTimeSupport": {
            "$Kind": "Term",
            "$Type": "Temporal.ApplicationTimeSupportType",
            "$AppliesTo": [
                "Collection"
            ],
            "@Core.AppliesViaContainer": true,
            "@Core.Description": "This collection supports temporal requests"
        },
        "ApplicationTimeSupportType": {
            "$Kind": "ComplexType",
            "DataHistory": {
                "$Type": "Temporal.DataHistory",
                "@Core.Description": "Describes how the data history is represented"
            },
            "UnitOfTime": {
                "$Type": "Temporal.UnitOfTime",
                "@Core.Description": "Unit of time and other properties of a time period"
            }
        },
        "DataHistory": {
            "$Kind": "ComplexType",
            "$Abstract": true,
            "@Core.Description": "Describes how the data history is represented"
        },
        "DataHistorySnapshot": {
            "$Kind": "ComplexType",
            "$BaseType": "Temporal.DataHistory",
            "@Core.Description": "Each OData entity represents a snapshot of data at a point in application time that is the same for all entities in the collection",
            "@Core.LongDescription": "The point in application time is defined by the `$at` clause of a request; default is the current point in time."
        },
        "DataHistoryVisible": {
            "$Kind": "ComplexType",
            "$BaseType": "Temporal.DataHistory",
            "@Core.Description": "Each OData entity represents data during a period of application time; it is called a *time slice*",
            "@Core.LongDescription": "The temporal collection MUST NOT contain two entities with the same\n          `ObjectKey` whose application-time periods defined by their `TimeSliceStart` and `TimeSliceEnd` properties overlap;\n          and it always contains all entities (with consecutive time periods) for a given object key.\n          The actions defined in this vocabulary MUST be invoked on collections with visible data history only.",
            "TimeSliceStart": {
                "$Type": "Edm.PropertyPath",
                "@Core.Description": "Property containing lower boundary of a time slice"
            },
            "TimeSliceEnd": {
                "$Type": "Edm.PropertyPath",
                "@Core.Description": "Property containing upper boundary of a time slice"
            },
            "ObjectKey": {
                "$Collection": true,
                "$Type": "Edm.PropertyPath",
                "@Core.Description": "The set of primitive properties that identify a temporal object",
                "@Core.LongDescription": "A temporal object is a set of facts whose changes over application time are tracked by the service. The entities in the annotated collection belong to potentially multiple temporal objects, and each temporal object is uniquely identified by the values of the specified object key properties. Object key properties follow the same rules as entity key properties. If no object key is specified, only a single temporal object belongs to the annotated collection."
            },
            "SupportedActions": {
                "$Collection": true,
                "$Type": "Temporal.QualifiedActionName",
                "@Core.Description": "List of supported temporal actions"
            }
        },
        "UnitOfTime": {
            "$Kind": "ComplexType",
            "$Abstract": true,
            "@Core.Description": "Unit of time and other properties of a time period"
        },
        "UnitOfTimeDateTimeOffset": {
            "$Kind": "ComplexType",
            "$BaseType": "Temporal.UnitOfTime",
            "@Core.Description": "Period start and end are of type Edm.DateTimeOffset",
            "Precision": {
                "$Type": "Edm.Byte",
                "@Core.Description": "Precision of Edm.DateTimeOffset values for period start and end"
            }
        },
        "UnitOfTimeDate": {
            "$Kind": "ComplexType",
            "$BaseType": "Temporal.UnitOfTime",
            "@Core.Description": "Period start and end are of type Edm.Date",
            "@Core.LongDescription": "The period is a contiguous set of days and does not consider the time of the day.",
            "ClosedClosedPeriods": {
                "$Type": "Edm.Boolean",
                "$DefaultValue": false,
                "@Core.Description": "If `true`, the period end is the last day in the period; if `false`, the period end is the first day after the period"
            }
        },
        "QualifiedActionName": {
            "$Kind": "TypeDefinition",
            "$UnderlyingType": "Edm.String",
            "@Core.Description": "The qualified name of an action in scope."
        },
        "Update": [
            {
                "$Kind": "Action",
                "$EntitySetPath": "timeslices",
                "$IsBound": true,
                "@Core.Description": "Updates existing time slices with values from new time slices whose [`ApplicationTimeSupport/ObjectKey`](#ApplicationTimeSupportType)s match and whose intervals overlap",
                "@Core.LongDescription": "The update behavior for a given object key is known from the [SQL statement](https://www.ibm.com/docs/en/db2oc?topic=statements-update)\n          `UPDATE ... FOR PORTION OF BUSINESS_TIME ... WHERE ...`.",
                "$Parameter": [
                    {
                        "$Name": "timeslices",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Time slices to modify"
                    },
                    {
                        "$Name": "newTimeslices",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "New time slices whose property values are used to update the `timeslices` collection",
                        "@Core.LongDescription": "Same entity type as binding parameter.\n            The new time slices need not contain all properties, but at least the boundary values of the interval to change.\n            An absent object key property matches any key property value.\n            New time slices are processed in the order of the collection, which especially matters if some of the specified change intervals overlap."
                    }
                ],
                "$ReturnType": {
                    "$Collection": true,
                    "$Type": "Edm.EntityType",
                    "@Core.Description": "Modified time slices",
                    "@Core.LongDescription": "Same entity type as binding parameter."
                }
            }
        ],
        "Upsert": [
            {
                "$Kind": "Action",
                "$EntitySetPath": "timeslices",
                "$IsBound": true,
                "@Core.Description": "Upserts a temporal object in a given period of application time after splitting partially overlapping time slices by updating existing time slices in that period and creating new time slices to close gaps in that period",
                "$Parameter": [
                    {
                        "$Name": "timeslices",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Time slices to modify"
                    },
                    {
                        "$Name": "From",
                        "$Type": "Edm.PrimitiveType",
                        "@Core.Description": "Lower boundary (inclusive) of application time. Date or DateTimeOffset value, or string with value `min`"
                    },
                    {
                        "$Name": "To",
                        "$Type": "Edm.PrimitiveType",
                        "@Core.Description": "Upper boundary (exclusive) of application time. Date or DateTimeOffset value, or string with value `max`"
                    },
                    {
                        "$Name": "Values",
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Property values to insert or update",
                        "@Core.LongDescription": "Same entity type as binding parameter and return type, specify only values of non-key properties."
                    },
                    {
                        "$Name": "ObjectKey",
                        "$Type": "Edm.EntityType",
                        "@Core.OptionalParameter": {},
                        "@Core.Description": "Property values that identify a single temporal object",
                        "@Core.LongDescription": "Select-expand projection of the same entity type as binding parameter, containing all and only properties reference in the [`ObjectKey`](#ObjectKey) of that entity type."
                    }
                ],
                "$ReturnType": {
                    "$Collection": true,
                    "$Type": "Edm.EntityType",
                    "@Core.Description": "Modified time slices",
                    "@Core.LongDescription": "Same entity type as binding parameter."
                }
            }
        ],
        "UpdateFrom": [
            {
                "$Kind": "Action",
                "$EntitySetPath": "timeslices",
                "$IsBound": true,
                "@Core.Description": "Updates properties of time slices of a temporal object from a given point in time onwards and stops updating a property if its original value changes from one time slice to the next",
                "$Parameter": [
                    {
                        "$Name": "timeslices",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Time slices to modify"
                    },
                    {
                        "$Name": "From",
                        "$Type": "Edm.PrimitiveType",
                        "@Core.Description": "Lower boundary (inclusive) of application time. Date or DateTimeOffset value, or string with value `min`"
                    },
                    {
                        "$Name": "To",
                        "$Type": "Edm.PrimitiveType",
                        "$Nullable": true,
                        "@Core.Description": "Optional upper boundary (exclusive) of application time. Date or DateTimeOffset value, or string with value `max`"
                    },
                    {
                        "$Name": "Values",
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Property values to update",
                        "@Core.LongDescription": "Same entity type as binding parameter and return type, specify only values of non-key properties."
                    },
                    {
                        "$Name": "ObjectKey",
                        "$Type": "Edm.EntityType",
                        "@Core.OptionalParameter": {},
                        "@Core.Description": "Property values that identify a single temporal object",
                        "@Core.LongDescription": "Select-expand projection of the same entity type as binding parameter, containing all and only properties reference in the [`ObjectKey`](#ObjectKey) of that entity type."
                    }
                ],
                "$ReturnType": {
                    "$Collection": true,
                    "$Type": "Edm.EntityType",
                    "@Core.Description": "Modified time slices",
                    "@Core.LongDescription": "Same entity type as binding parameter."
                }
            }
        ],
        "Synchronize": [
            {
                "$Kind": "Action",
                "$EntitySetPath": "timeslices",
                "$IsBound": true,
                "@Core.Description": "Synchronizes time slices of a temporal object to match the provided full application timeline",
                "$Parameter": [
                    {
                        "$Name": "timeslices",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Time slices to modify"
                    },
                    {
                        "$Name": "Timeline",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "List of time slices covering the full timeline of the temporal object",
                        "@Core.LongDescription": "Same entity type as the binding parameter."
                    },
                    {
                        "$Name": "ObjectKey",
                        "$Type": "Edm.EntityType",
                        "@Core.OptionalParameter": {},
                        "@Core.Description": "Property values that identify a single temporal object",
                        "@Core.LongDescription": "Select-expand projection of the same entity type as binding parameter, containing all and only properties reference in the [`ObjectKey`](#ObjectKey) of that entity type."
                    }
                ]
            }
        ],
        "Delete": [
            {
                "$Kind": "Action",
                "$EntitySetPath": "timeslices",
                "$IsBound": true,
                "@Core.Description": "Deletes all time slices of a temporal object in a given period of application time after splitting partially overlapping time slices",
                "$Parameter": [
                    {
                        "$Name": "timeslices",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Time slices to modify"
                    },
                    {
                        "$Name": "From",
                        "$Type": "Edm.PrimitiveType",
                        "@Core.Description": "Lower boundary (inclusive) of application time. Date or DateTimeOffset value, or string with value `min`"
                    },
                    {
                        "$Name": "To",
                        "$Type": "Edm.PrimitiveType",
                        "@Core.Description": "Upper boundary (exclusive) of application time. Date or DateTimeOffset value, or string with value `max`"
                    },
                    {
                        "$Name": "ObjectKey",
                        "$Type": "Edm.EntityType",
                        "@Core.OptionalParameter": {},
                        "@Core.Description": "Property values that identify a single temporal object",
                        "@Core.LongDescription": "Select-expand projection of the same entity type as binding parameter, containing all and only properties reference in the [`ObjectKey`](#ObjectKey) of that entity type."
                    }
                ],
                "$ReturnType": {
                    "$Collection": true,
                    "$Type": "Edm.EntityType",
                    "@Core.Description": "Deleted time slices",
                    "@Core.LongDescription": "Same entity type as binding parameter."
                }
            }
        ],
        "DeleteFrom": [
            {
                "$Kind": "Action",
                "$EntitySetPath": "timeslices",
                "$IsBound": true,
                "@Core.Description": "Deletes  time slices of a temporal object from a a given point in application time onwards and stops if a property changes its value from one time slice to the next",
                "$Parameter": [
                    {
                        "$Name": "timeslices",
                        "$Collection": true,
                        "$Type": "Edm.EntityType",
                        "@Core.Description": "Time slices to modify"
                    },
                    {
                        "$Name": "From",
                        "$Type": "Edm.PrimitiveType",
                        "@Core.Description": "Lower boundary (inclusive) of application time. Date or DateTimeOffset value, or string with value `min`"
                    },
                    {
                        "$Name": "To",
                        "$Type": "Edm.PrimitiveType",
                        "$Nullable": true,
                        "@Core.Description": "Optional upper boundary (exclusive) of application time. Date or DateTimeOffset value, or string with value `max`"
                    },
                    {
                        "$Name": "ObjectKey",
                        "$Type": "Edm.EntityType",
                        "@Core.OptionalParameter": {},
                        "@Core.Description": "Property values that identify a single temporal object",
                        "@Core.LongDescription": "Select-expand projection of the same entity type as binding parameter, containing all and only properties reference in the [`ObjectKey`](#ObjectKey) of that entity type."
                    }
                ],
                "$ReturnType": {
                    "$Collection": true,
                    "$Type": "Edm.EntityType",
                    "@Core.Description": "Deleted time slices",
                    "@Core.LongDescription": "Same entity type as binding parameter."
                }
            }
        ]
    }
}